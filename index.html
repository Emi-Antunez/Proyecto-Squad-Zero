<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <title>Gestión de Productos</title>
    <link rel="stylesheet" href="./style/style.css">
</head>

<body class="bg-light">
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary mb-4">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">Productos</a>
            <div class="collapse navbar-collapse">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="./page/login.html">Login</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="./page/register.html">Registro</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="topbar">
        <button class="btn">Iniciar sesión</button>
        <button class="btn">Registro</button>
    </div>

    <div class="container">
        <h1 class="mb-4">Gestión de Productos</h1>
        <pre id="output"></pre>
        <div class="row">
            <div class="col-md-5 col-lg-4 mb-4">
                <form id="formAgregarProducto" class="card card-body shadow-sm" onsubmit="event.preventDefault(); guardarProductoDesdeFormulario();">
                    <h2 class="h5 mb-3">Agregar / Modificar Producto</h2>
                    <input type="hidden" id="productoId">
                    <div class="mb-2">
                        <label class="form-label">Nombre:</label>
                        <input type="text" id="nombreProducto" class="form-control" required>
                    </div>
                    <div class="mb-2">
                        <label class="form-label">Descripción:</label>
                        <input type="text" id="descripcionProducto" class="form-control" required>
                    </div>
                    <div class="mb-2">
                        <label class="form-label">Precio:</label>
                        <input type="number" id="precioProducto" class="form-control" step="0.01" required>
                    </div>
                    <div class="mb-2">
                        <label class="form-label">Stock:</label>
                        <input type="number" id="stockProducto" class="form-control" required>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Imagen:</label>
                        <input type="file" id="imagenProducto" class="form-control" accept="image/*">
                    </div>
                    <button type="submit" class="btn btn-primary w-100">Guardar</button>
                </form>
            </div>
            <div class="col-md-7 col-lg-8">
                <div id="productosContainer" class="row"></div>
            </div>
        </div>
    </div>

    <!-- Botón flotante para alternar la barra -->
    <button id="toggle-navbar" class="toggle-navbar-btn hide-when-navbar">⇄</button>
    <!-- Botón para abrir la barra (visible solo cuando la barra está oculta) -->
    <button id="toggle-navbar-hidden" class="toggle-navbar-btn show-when-navbar-hidden" style="display:none;">⇄</button>
    <script src="js/producto.js"></script>
    <script>
        listarProductos();
    </script>
    <!-- Bootstrap JS (opcional, para componentes interactivos) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>